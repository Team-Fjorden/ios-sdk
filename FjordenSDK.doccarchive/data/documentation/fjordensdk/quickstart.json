{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The central class of everything you need is the "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager"},{"type":"text","text":". You can access it using the static "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/default"},{"type":"text","text":" property. You have to call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/configure(with:)"},{"type":"text","text":" before anything else can be accessed."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The grip manager comes with different operations modes: The default one uses the system’s bluetooth stack. Therefore it will only work on a physical device, Bluetooth on the iOS simulator is not supported. You can also run in "},{"type":"codeVoice","code":"simulated"},{"type":"text","text":" mode, to simulate any kind of situation to test your integration. Under the hood it completely mocks "},{"type":"codeVoice","code":"CoreBluetooth"},{"type":"text","text":" and doesn’t touch the hardware at all. This is the default when running the SDK on the simulator."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The Fjorden SDK is based around async\/await, but offers fallback using closures. Xcode should be smart enough to pick the correct version of the API depending on the surrounding context."}]},{"anchor":"Connection-Flow","level":3,"type":"heading","text":"Connection Flow"},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"‼️ Make sure to add a "},{"type":"codeVoice","code":"NSBluetoothAlwaysUsageDescription"},{"type":"text","text":" to your "},{"type":"codeVoice","code":"Info.plist"},{"type":"text","text":", otherwise your app will crash the first time you are trying to connect to a new grip!"}]}]},{"anchor":"Setting-up-a-new-grip","level":4,"type":"heading","text":"Setting up a new grip"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To trigger the system alert to ask for Bluetooth permission, start the grip manager using "},{"type":"codeVoice","code":"start(options: [.askForBluetoothPermission])"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Once the user has given permission, you can start scanning for available Fjorden grips using "},{"type":"codeVoice","code":"GripManager.default.startScanningForFjordenGrips()"},{"type":"text","text":". If there is a grip (or multiple grips) around, the method will be called every time the signal strength of a discovered grip updates. The SDK handles deduplication, so you can always simply take the reported grip(s), no need to filter them yourself."}]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"We don’t include any kind of UI in our SDK"}]},{"type":"text","text":", so it will be your job to present a list of found devices to the user. When selecting a grip, call "},{"type":"codeVoice","code":"GripManager.default.connect(toGrip: selectedGrip)"},{"type":"text","text":" passing the grip the user selected. This will trigger a system alert from iOS, asking to confirm bonding to the device. Once pairing is confirmed, the grip is considered connected, and the "},{"type":"codeVoice","code":"GripManager"},{"type":"text","text":" transitions into the "},{"type":"codeVoice","code":".connected(ConnectedGrip)"},{"type":"text","text":" state."}]},{"anchor":"Restore-Connection-on-App-Launch","level":4,"type":"heading","text":"Restore Connection on App Launch"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Call "},{"type":"codeVoice","code":"GripManager.default.start()"},{"type":"text","text":" as soon as your app launches. By design, this method doesn’t trigger anything that requires user input, so it is always safe to call. If you have paired a grip before, it will try to connect it. If it isn’t available, it will time out after 5.0 seconds. Usually the system re-connects to a grip as soon as you turn it on, even if your app with the Fjorden SDK is not running."}]},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can change this timeout using a custom "},{"type":"codeVoice","code":"GripManager.Configuration"},{"type":"text","text":", then pass it when setting up the grip manager "},{"type":"codeVoice","code":"GripManager.default.configure(with: custom)"}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"If Bluetooth access isn’t allowed, "},{"type":"codeVoice","code":"unauthorized"},{"type":"text","text":" will be returned."}]},{"anchor":"Forget-a-configured-grip","level":4,"type":"heading","text":"Forget a configured grip"},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to fully forget a paired grip, you have to call "},{"type":"codeVoice","code":"GripManager.default.disconnectAndForgotBondedGrip()"},{"type":"text","text":". Afterwards, you "},{"type":"strong","inlineContent":[{"type":"text","text":"have"}]},{"type":"text","text":" to direct users to Settings.app -> Bluetooth -> Fjorden Grip, let them tap the blue "},{"type":"codeVoice","code":"i"},{"type":"text","text":" button, and select “Forget this device”. Sadly, there is no programmatic way to achieve this."}]},{"anchor":"State","level":2,"type":"heading","text":"State"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager"},{"type":"text","text":" exposes a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/state-swift.property"},{"type":"text","text":" property you can read at all times."}]},{"anchor":"React-to-changes","level":3,"type":"heading","text":"React to changes"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If you are interested being informed when the state changes, call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/subscribeToStateChanges()"},{"type":"text","text":" See examples below."}]},{"type":"codeListing","syntax":"swift","code":["for await state in GripManager.default.subscribeToStateChanges() {","\thandleGripManagerStateChange(state)","}"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"or"}]},{"type":"codeListing","syntax":"swift","code":["GripManager.default.subscribeToStateChanges { [weak self] state in","\tself?.handleGripManagerStateChange(state)","}"]},{"anchor":"Grip-Events","level":2,"type":"heading","text":"Grip Events"},{"anchor":"React-to-Events","level":3,"type":"heading","text":"React to Events"},{"anchor":"AsyncAwait","level":4,"type":"heading","text":"Async\/Await"},{"type":"codeListing","syntax":"swift","code":["guard case .connected(let grip) = GripManager.default.state else {","   assertionFailure(\"Not connected to any grip\")","   return","}","","for await event in grip.subscribeToEvents() {","   handleGripEvent(event)","}"]},{"anchor":"Callback-Closure","level":4,"type":"heading","text":"Callback Closure"},{"type":"codeListing","syntax":"swift","code":["guard case .connected(let grip) = GripManager.default.state else {","   assertionFailure(\"Not connected to any grip\")","   return","}","","grip.subscribeToEvents { [weak self] event in","   self?.handleGripEvent(event)","}"]},{"anchor":"Firmware-Upgrades","level":3,"type":"heading","text":"Firmware Upgrades"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When first connecting to a grip, the SDK makes sure the grip has the min. required firmware. We don’t expect the communication interface between the SDK & the grip will change once we start shipping, but how knows :) In case the firmware is too old, the SDK will throw an "},{"type":"reference","isActive":true,"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Errors\/gripUnsupportedFirmwareVersion"},{"type":"text","text":" error. If that happens, you should direct users to the Fjorden app to update the grip."}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/fjordensdk\/quickstart"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/QuickStart","interfaceLanguage":"swift"},"kind":"article","metadata":{"roleHeading":"Article","title":"Quick Start","role":"article","modules":[{"name":"FjordenSDK"}]},"hierarchy":{"paths":[["doc:\/\/FjordenSDK\/documentation\/FjordenSDK"]]},"seeAlsoSections":[{"title":"Guides","identifiers":["doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Hardware","doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Troubleshooting"],"generated":true}],"references":{"doc://FjordenSDK/documentation/FjordenSDK/GripManager":{"role":"symbol","title":"GripManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"GripManager"}],"abstract":[],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"GripManager"}],"url":"\/documentation\/fjordensdk\/gripmanager"},"doc://FjordenSDK/documentation/FjordenSDK/Errors/gripUnsupportedFirmwareVersion":{"role":"symbol","title":"Errors.gripUnsupportedFirmwareVersion","fragments":[{"kind":"keyword","text":"case"},{"kind":"text","text":" "},{"kind":"identifier","text":"gripUnsupportedFirmwareVersion"}],"abstract":[{"type":"text","text":"The discovered grip has an unsupported firmware version. The user will need to upload the latest firmware by using the Fjorden app."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Errors\/gripUnsupportedFirmwareVersion","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk\/errors\/gripunsupportedfirmwareversion"},"doc://FjordenSDK/documentation/FjordenSDK/Hardware":{"role":"article","title":"Hardware","abstract":[],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Hardware","kind":"article","type":"topic","url":"\/documentation\/fjordensdk\/hardware"},"doc://FjordenSDK/documentation/FjordenSDK/GripManager/default":{"role":"symbol","title":"default","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"`default`"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"GripManager","preciseIdentifier":"c:@M@FjordenSDK@objc(cs)GripManager"}],"abstract":[{"type":"text","text":"The default instance of the grip manager."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/default","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk\/gripmanager\/default"},"doc://FjordenSDK/documentation/FjordenSDK/GripManager/subscribeToStateChanges()":{"role":"symbol","title":"subscribeToStateChanges()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"subscribeToStateChanges"},{"kind":"text","text":"() -> "},{"kind":"typeIdentifier","text":"AsyncStream","preciseIdentifier":"s:ScS"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"State","preciseIdentifier":"s:10FjordenSDK11GripManagerC5StateO"},{"kind":"text","text":">"}],"abstract":[{"type":"text","text":"Subscribe to grip manager state changes in an asynchronous stream of states."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/subscribeToStateChanges()","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk\/gripmanager\/subscribetostatechanges()"},"doc://FjordenSDK/documentation/FjordenSDK/GripManager/configure(with:)":{"role":"symbol","title":"configure(with:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"configure"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Configuration","preciseIdentifier":"s:10FjordenSDK11GripManagerC13ConfigurationV"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Before using the grip manager it needs to be configured. Apps should only call this function once on the "},{"type":"codeVoice","code":"default"},{"type":"text","text":" instance, before calling "},{"type":"codeVoice","code":"start()"},{"type":"text","text":"."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/configure(with:)","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk\/gripmanager\/configure(with:)"},"doc://FjordenSDK/documentation/FjordenSDK":{"role":"collection","title":"FjordenSDK","abstract":[{"type":"text","text":"Connect & integrate button events into your app."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk"},"doc://FjordenSDK/documentation/FjordenSDK/GripManager/state-swift.property":{"role":"symbol","title":"state","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"state"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"State","preciseIdentifier":"s:10FjordenSDK11GripManagerC5StateO"}],"abstract":[{"type":"text","text":"The current state of the grip manager. It is possible to subscribe to state changes by using one of the "},{"type":"codeVoice","code":"subscribeToStateChanges"},{"type":"text","text":" functions."}],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/GripManager\/state-swift.property","kind":"symbol","type":"topic","url":"\/documentation\/fjordensdk\/gripmanager\/state-swift.property"},"doc://FjordenSDK/documentation/FjordenSDK/Troubleshooting":{"role":"article","title":"Troubleshooting","abstract":[],"identifier":"doc:\/\/FjordenSDK\/documentation\/FjordenSDK\/Troubleshooting","kind":"article","type":"topic","url":"\/documentation\/fjordensdk\/troubleshooting"}}}